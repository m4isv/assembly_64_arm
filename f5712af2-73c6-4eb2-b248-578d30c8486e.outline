<ul><li><a class="l" href="#pf5" data-dest-detail='[5,"Fit"]'>Table of Contents</a></li><li><a class="l" href="#pf10" data-dest-detail='[16,"Fit"]'>About the Author</a></li><li><a class="l" href="#pf11" data-dest-detail='[17,"Fit"]'>About the Technical Reviewer</a></li><li><a class="l" href="#pf12" data-dest-detail='[18,"Fit"]'>Acknowledgments</a></li><li><a class="l" href="#pf13" data-dest-detail='[19,"Fit"]'>Introduction</a></li><li><a class="l" href="#pf16" data-dest-detail='[22,"XYZ",53,607,null]'>Chapter 1: Getting Started</a><ul><li><a class="l" href="#pf17" data-dest-detail='[23,"XYZ",35,594,null]'>The Surprise Birth of the 64-Bit ARM</a></li><li><a class="l" href="#pf18" data-dest-detail='[24,"XYZ",53,594,null]'>What You Will Learn</a></li><li><a class="l" href="#pf18" data-dest-detail='[24,"XYZ",53,282,null]'>Why Use Assembly</a></li><li><a class="l" href="#pf1b" data-dest-detail='[27,"XYZ",35,386,null]'>Tools You Need</a><ul><li><a class="l" href="#pf1b" data-dest-detail='[27,"XYZ",35,212,null]'>Raspberry Pi 4 or NVidia Jetson Nano</a></li><li><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",53,316,null]'>Text Editor</a></li><li><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",53,188,null]'>Specialty Programs</a></li></ul></li><li><a class="l" href="#pf1d" data-dest-detail='[29,"XYZ",35,450,null]'>Computers and Numbers</a></li><li><a class="l" href="#pf20" data-dest-detail='[32,"XYZ",53,488,null]'>ARM Assembly Instructions</a><ul><li><a class="l" href="#pf21" data-dest-detail='[33,"XYZ",35,594,null]'>CPU Registers</a></li><li><a class="l" href="#pf22" data-dest-detail='[34,"XYZ",53,268,null]'>ARM Instruction Format</a></li><li><a class="l" href="#pf25" data-dest-detail='[37,"XYZ",35,594,null]'>Computer Memory</a></li></ul></li><li><a class="l" href="#pf26" data-dest-detail='[38,"XYZ",53,392,null]'>About the GCC Assembler</a></li><li><a class="l" href="#pf27" data-dest-detail='[39,"XYZ",35,594,null]'>Hello World</a><ul><li><a class="l" href="#pf29" data-dest-detail='[41,"XYZ",35,240,null]'>About Comments</a></li><li><a class="l" href="#pf2a" data-dest-detail='[42,"XYZ",53,370,null]'>Where to Start</a></li><li><a class="l" href="#pf2b" data-dest-detail='[43,"XYZ",35,594,null]'>Assembly Instructions</a></li><li><a class="l" href="#pf2b" data-dest-detail='[43,"XYZ",35,272,null]'>Data</a></li><li><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",53,526,null]'>Calling Linux</a></li><li><a class="l" href="#pf2d" data-dest-detail='[45,"XYZ",35,594,null]'>Reverse Engineering Our Program</a></li></ul></li><li><a class="l" href="#pf2f" data-dest-detail='[47,"XYZ",35,392,null]'>Summary</a></li><li><a class="l" href="#pf30" data-dest-detail='[48,"XYZ",53,594,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf31" data-dest-detail='[49,"XYZ",53,607,null]'>Chapter 2: Loading and Adding</a><ul><li><a class="l" href="#pf31" data-dest-detail='[49,"XYZ",53,343,null]'>Negative Numbers</a><ul><li><a class="l" href="#pf31" data-dest-detail='[49,"XYZ",53,165,null]'>About Two’s Complement</a></li><li><a class="l" href="#pf33" data-dest-detail='[51,"XYZ",53,302,null]'>About Gnome Programmer’s Calculator</a></li><li><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",35,232,null]'>About One’s Complement</a></li></ul></li><li><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",53,594,null]'>Big vs. Little Endian</a><ul><li><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",35,361,null]'>About Bi-endian</a></li><li><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",35,233,null]'>Pros of Little Endian</a></li></ul></li><li><a class="l" href="#pf37" data-dest-detail='[55,"XYZ",53,317,null]'>Shifting and Rotating</a><ul><li><a class="l" href="#pf38" data-dest-detail='[56,"XYZ",35,398,null]'>About Carry Flag</a></li><li><a class="l" href="#pf38" data-dest-detail='[56,"XYZ",35,222,null]'>About the Barrel Shifter</a></li><li><a class="l" href="#pf39" data-dest-detail='[57,"XYZ",53,222,null]'>Basics of Shifting and Rotating</a><ul><li><a class="l" href="#pf3a" data-dest-detail='[58,"XYZ",35,593,null]'>Logical Shift Left</a></li><li><a class="l" href="#pf3a" data-dest-detail='[58,"XYZ",35,505,null]'>Logical Shift Right</a></li><li><a class="l" href="#pf3a" data-dest-detail='[58,"XYZ",35,433,null]'>Arithmetic Shift Right</a></li><li><a class="l" href="#pf3a" data-dest-detail='[58,"XYZ",35,313,null]'>Rotate Right</a></li></ul></li></ul></li><li><a class="l" href="#pf3a" data-dest-detail='[58,"XYZ",35,165,null]'>Loading Registers</a><ul><li><a class="l" href="#pf3b" data-dest-detail='[59,"XYZ",53,526,null]'>Instruction Aliases</a></li><li><a class="l" href="#pf3c" data-dest-detail='[60,"XYZ",35,462,null]'>MOV/MOVK/MOVN</a><ul><li><a class="l" href="#pf3d" data-dest-detail='[61,"XYZ",53,593,null]'>About MOVK</a></li><li><a class="l" href="#pf3d" data-dest-detail='[61,"XYZ",53,217,null]'>Register to Register MOV</a></li></ul></li><li><a class="l" href="#pf3e" data-dest-detail='[62,"XYZ",35,594,null]'>About Operand2</a><ul><li><a class="l" href="#pf3e" data-dest-detail='[62,"XYZ",35,256,null]'>Register and Shift</a></li><li><a class="l" href="#pf3f" data-dest-detail='[63,"XYZ",53,364,null]'>Register and Extension</a></li><li><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",35,517,null]'>Small Number and Shift</a></li></ul></li><li><a class="l" href="#pf41" data-dest-detail='[65,"XYZ",53,414,null]'>MOVN</a></li><li><a class="l" href="#pf42" data-dest-detail='[66,"XYZ",35,213,null]'>MOV Examples</a></li></ul></li><li><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",35,536,null]'>ADD/ADC</a><ul><li><a class="l" href="#pf48" data-dest-detail='[72,"XYZ",35,510,null]'>Add with Carry</a></li></ul></li><li><a class="l" href="#pf4b" data-dest-detail='[75,"XYZ",53,184,null]'>SUB/SBC</a></li><li><a class="l" href="#pf4c" data-dest-detail='[76,"XYZ",35,504,null]'>Summary</a></li><li><a class="l" href="#pf4c" data-dest-detail='[76,"XYZ",35,240,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf4e" data-dest-detail='[78,"XYZ",53,607,null]'>Chapter 3: Tooling Up</a><ul><li><a class="l" href="#pf4e" data-dest-detail='[78,"XYZ",53,353,null]'>GNU Make</a><ul><li><a class="l" href="#pf4f" data-dest-detail='[79,"XYZ",35,299,null]'>Rebuilding a File</a></li><li><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",53,594,null]'>A Rule for Building .s Files</a></li><li><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",53,181,null]'>Defining Variables</a></li></ul></li><li><a class="l" href="#pf51" data-dest-detail='[81,"XYZ",35,360,null]'>GDB</a><ul><li><a class="l" href="#pf52" data-dest-detail='[82,"XYZ",53,502,null]'>Preparing to Debug</a></li><li><a class="l" href="#pf54" data-dest-detail='[84,"XYZ",53,594,null]'>Beginning GDB</a></li></ul></li><li><a class="l" href="#pf59" data-dest-detail='[89,"XYZ",35,306,null]'>Cross-Compiling</a><ul><li><a class="l" href="#pf5b" data-dest-detail='[91,"XYZ",35,510,null]'>Emulation</a></li></ul></li><li><a class="l" href="#pf5b" data-dest-detail='[91,"XYZ",35,200,null]'>Android NDK</a></li><li><a class="l" href="#pf60" data-dest-detail='[96,"XYZ",53,472,null]'>Apple XCode</a></li><li><a class="l" href="#pf65" data-dest-detail='[101,"XYZ",35,478,null]'>Source Control and Build Servers</a><ul><li><a class="l" href="#pf65" data-dest-detail='[101,"XYZ",35,332,null]'>Git</a></li><li><a class="l" href="#pf66" data-dest-detail='[102,"XYZ",53,339,null]'>Jenkins</a></li></ul></li><li><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",35,594,null]'>Summary</a></li><li><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",35,218,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",53,607,null]'>Chapter 4: Controlling Program Flow</a><ul><li><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",53,176,null]'>Unconditional Branch</a></li><li><a class="l" href="#pf6a" data-dest-detail='[106,"XYZ",35,258,null]'>About Condition Flags</a></li><li><a class="l" href="#pf6c" data-dest-detail='[108,"XYZ",35,594,null]'>Branch on Condition</a></li><li><a class="l" href="#pf6c" data-dest-detail='[108,"XYZ",35,330,null]'>About the CMP Instruction</a></li><li><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",35,594,null]'>Loops</a><ul><li><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",35,496,null]'>FOR Loops</a></li><li><a class="l" href="#pf6f" data-dest-detail='[111,"XYZ",53,409,null]'>While Loops</a></li></ul></li><li><a class="l" href="#pf70" data-dest-detail='[112,"XYZ",35,505,null]'>If/Then/Else</a></li><li><a class="l" href="#pf71" data-dest-detail='[113,"XYZ",53,288,null]'>Logical Operators</a><ul><li><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",35,594,null]'>AND</a></li><li><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",35,327,null]'>EOR</a></li><li><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",35,231,null]'>ORR</a></li><li><a class="l" href="#pf73" data-dest-detail='[115,"XYZ",53,594,null]'>BIC</a></li></ul></li><li><a class="l" href="#pf73" data-dest-detail='[115,"XYZ",53,270,null]'>Design Patterns</a></li><li><a class="l" href="#pf74" data-dest-detail='[116,"XYZ",35,383,null]'>Converting Integers to ASCII</a><ul><li><a class="l" href="#pf78" data-dest-detail='[120,"XYZ",35,293,null]'>Using Expressions in Immediate Constants</a></li><li><a class="l" href="#pf79" data-dest-detail='[121,"XYZ",53,510,null]'>Storing a Register to Memory</a></li><li><a class="l" href="#pf79" data-dest-detail='[121,"XYZ",53,310,null]'>Why Not Print in Decimal?</a></li></ul></li><li><a class="l" href="#pf7a" data-dest-detail='[122,"XYZ",35,594,null]'>Performance of Branch Instructions</a></li><li><a class="l" href="#pf7b" data-dest-detail='[123,"XYZ",53,456,null]'>More Comparison Instructions</a></li><li><a class="l" href="#pf7c" data-dest-detail='[124,"XYZ",35,594,null]'>Summary</a></li><li><a class="l" href="#pf7c" data-dest-detail='[124,"XYZ",35,394,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf7e" data-dest-detail='[126,"XYZ",53,607,null]'>Chapter 5: Thanks for the Memories</a><ul><li><a class="l" href="#pf7f" data-dest-detail='[127,"XYZ",35,594,null]'>Defining Memory Contents</a><ul><li><a class="l" href="#pf83" data-dest-detail='[131,"XYZ",35,594,null]'>Aligning Data</a></li></ul></li><li><a class="l" href="#pf83" data-dest-detail='[131,"XYZ",35,204,null]'>Loading a Register with an Address</a><ul><li><a class="l" href="#pf84" data-dest-detail='[132,"XYZ",53,510,null]'>PC Relative Addressing</a></li></ul></li><li><a class="l" href="#pf86" data-dest-detail='[134,"XYZ",53,172,null]'>Loading Data from Memory</a><ul><li><a class="l" href="#pf88" data-dest-detail='[136,"XYZ",53,340,null]'>Indexing Through Memory</a><ul><li><a class="l" href="#pf8b" data-dest-detail='[139,"XYZ",35,352,null]'>Write Back</a></li><li><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",53,593,null]'>Post-Indexed Addressing</a><ul><li><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",53,275,null]'>Converting to Upper-Case</a></li></ul></li></ul></li></ul></li><li><a class="l" href="#pf94" data-dest-detail='[148,"XYZ",53,392,null]'>Storing a Register</a></li><li><a class="l" href="#pf94" data-dest-detail='[148,"XYZ",53,192,null]'>Double Registers</a></li><li><a class="l" href="#pf95" data-dest-detail='[149,"XYZ",35,348,null]'>Summary</a></li><li><a class="l" href="#pf96" data-dest-detail='[150,"XYZ",53,594,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf97" data-dest-detail='[151,"XYZ",53,607,null]'>Chapter 6: Functions and the Stack</a><ul><li><a class="l" href="#pf98" data-dest-detail='[152,"XYZ",35,504,null]'>Stacks on Linux</a></li><li><a class="l" href="#pf9a" data-dest-detail='[154,"XYZ",35,225,null]'>Branch with Link</a></li><li><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",53,172,null]'>Nesting Function Calls</a></li><li><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",53,408,null]'>Function Parameters and Return Values</a></li><li><a class="l" href="#pf9e" data-dest-detail='[158,"XYZ",35,408,null]'>Managing the Registers</a></li><li><a class="l" href="#pf9f" data-dest-detail='[159,"XYZ",53,450,null]'>Summary of the Function Call Algorithm</a></li><li><a class="l" href="#pfa0" data-dest-detail='[160,"XYZ",35,379,null]'>Upper-Case Revisited</a></li><li><a class="l" href="#pfa4" data-dest-detail='[164,"XYZ",35,472,null]'>Stack Frames</a><ul><li><a class="l" href="#pfa6" data-dest-detail='[166,"XYZ",35,594,null]'>Stack Frame Example</a><ul><li><a class="l" href="#pfa7" data-dest-detail='[167,"XYZ",53,500,null]'>Defining Symbols</a></li></ul></li></ul></li><li><a class="l" href="#pfa7" data-dest-detail='[167,"XYZ",53,320,null]'>Macros</a><ul><li><a class="l" href="#pfaa" data-dest-detail='[170,"XYZ",35,302,null]'>Include Directive</a></li><li><a class="l" href="#pfab" data-dest-detail='[171,"XYZ",53,594,null]'>Macro Definition</a></li><li><a class="l" href="#pfab" data-dest-detail='[171,"XYZ",53,338,null]'>Labels</a></li><li><a class="l" href="#pfac" data-dest-detail='[172,"XYZ",35,594,null]'>Why Macros?</a></li><li><a class="l" href="#pfad" data-dest-detail='[173,"XYZ",53,594,null]'>Macros to Improve Code</a></li></ul></li><li><a class="l" href="#pfae" data-dest-detail='[174,"XYZ",35,464,null]'>Summary</a></li><li><a class="l" href="#pfae" data-dest-detail='[174,"XYZ",35,248,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pfb0" data-dest-detail='[176,"XYZ",53,607,null]'>Chapter 7: Linux Operating System Services</a><ul><li><a class="l" href="#pfb0" data-dest-detail='[176,"XYZ",53,228,null]'>So Many Services</a></li><li><a class="l" href="#pfb1" data-dest-detail='[177,"XYZ",35,424,null]'>Calling Convention</a><ul><li><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",53,446,null]'>Linux System Call Numbers</a></li><li><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",53,190,null]'>Return Codes</a></li><li><a class="l" href="#pfb3" data-dest-detail='[179,"XYZ",35,366,null]'>Structures</a></li></ul></li><li><a class="l" href="#pfb4" data-dest-detail='[180,"XYZ",53,336,null]'>Wrappers</a></li><li><a class="l" href="#pfb5" data-dest-detail='[181,"XYZ",35,536,null]'>Converting a File to Upper-Case</a><ul><li><a class="l" href="#pfb9" data-dest-detail='[185,"XYZ",35,390,null]'>Building .S Files</a></li><li><a class="l" href="#pfbb" data-dest-detail='[187,"XYZ",35,594,null]'>Opening a File</a></li><li><a class="l" href="#pfbb" data-dest-detail='[187,"XYZ",35,164,null]'>Error Checking</a></li><li><a class="l" href="#pfbd" data-dest-detail='[189,"XYZ",35,174,null]'>Looping</a></li></ul></li><li><a class="l" href="#pfbe" data-dest-detail='[190,"XYZ",53,342,null]'>Summary</a></li><li><a class="l" href="#pfbf" data-dest-detail='[191,"XYZ",35,594,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pfc0" data-dest-detail='[192,"XYZ",53,607,null]'>Chapter 8: Programming GPIO Pins</a><ul><li><a class="l" href="#pfc0" data-dest-detail='[192,"XYZ",53,228,null]'>GPIO Overview</a></li><li><a class="l" href="#pfc1" data-dest-detail='[193,"XYZ",35,284,null]'>In Linux, Everything Is a File</a></li><li><a class="l" href="#pfc2" data-dest-detail='[194,"XYZ",53,154,null]'>Flashing LEDs</a></li><li><a class="l" href="#pfc8" data-dest-detail='[200,"XYZ",53,594,null]'>Moving Closer to the Metal</a></li><li><a class="l" href="#pfc8" data-dest-detail='[200,"XYZ",53,241,null]'>Virtual Memory</a></li><li><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",35,408,null]'>In Devices, Everything Is Memory</a></li><li><a class="l" href="#pfcb" data-dest-detail='[203,"XYZ",35,520,null]'>Registers in Bits</a><ul><li><a class="l" href="#pfcc" data-dest-detail='[204,"XYZ",53,594,null]'>GPIO Function Select Registers</a></li><li><a class="l" href="#pfcd" data-dest-detail='[205,"XYZ",35,245,null]'>GPIO Output Set and Clear Registers</a></li></ul></li><li><a class="l" href="#pfce" data-dest-detail='[206,"XYZ",53,314,null]'>More Flashing LEDs</a><ul><li><a class="l" href="#pfd4" data-dest-detail='[212,"XYZ",53,494,null]'>Root Access</a></li><li><a class="l" href="#pfd4" data-dest-detail='[212,"XYZ",53,158,null]'>Table Driven</a></li><li><a class="l" href="#pfd5" data-dest-detail='[213,"XYZ",35,311,null]'>Setting Pin Direction</a></li><li><a class="l" href="#pfd6" data-dest-detail='[214,"XYZ",53,214,null]'>Setting and Clearing Pins</a></li></ul></li><li><a class="l" href="#pfd7" data-dest-detail='[215,"XYZ",35,216,null]'>Summary</a></li><li><a class="l" href="#pfd8" data-dest-detail='[216,"XYZ",53,434,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",53,607,null]'>Chapter 9: Interacting with C and Python</a><ul><li><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",53,164,null]'>Calling C Routines</a><ul><li><a class="l" href="#pfda" data-dest-detail='[218,"XYZ",35,286,null]'>Printing Debug Information</a><ul><li><a class="l" href="#pfdd" data-dest-detail='[221,"XYZ",53,380,null]'>Preserving State</a></li><li><a class="l" href="#pfdd" data-dest-detail='[221,"XYZ",53,212,null]'>Calling Printf</a></li><li><a class="l" href="#pfde" data-dest-detail='[222,"XYZ",35,261,null]'>Passing a String</a></li></ul></li><li><a class="l" href="#pfdf" data-dest-detail='[223,"XYZ",53,510,null]'>Adding with Carry Revisited</a></li></ul></li><li><a class="l" href="#pfe1" data-dest-detail='[225,"XYZ",53,368,null]'>Calling Assembly Routines from C</a></li><li><a class="l" href="#pfe3" data-dest-detail='[227,"XYZ",53,264,null]'>Packaging Our Code</a><ul><li><a class="l" href="#pfe4" data-dest-detail='[228,"XYZ",35,594,null]'>Static Library</a></li><li><a class="l" href="#pfe5" data-dest-detail='[229,"XYZ",53,446,null]'>Shared Library</a></li></ul></li><li><a class="l" href="#pfe8" data-dest-detail='[232,"XYZ",35,504,null]'>Embedding Assembly Code Inside C Code</a></li><li><a class="l" href="#pfeb" data-dest-detail='[235,"XYZ",53,312,null]'>Calling Assembly from Python</a></li><li><a class="l" href="#pfed" data-dest-detail='[237,"XYZ",53,176,null]'>Summary</a></li><li><a class="l" href="#pfee" data-dest-detail='[238,"XYZ",35,458,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pfef" data-dest-detail='[239,"XYZ",53,607,null]'>Chapter 10: Interfacing with Kotlin and Swift</a><ul><li><a class="l" href="#pfef" data-dest-detail='[239,"XYZ",53,212,null]'>About Kotlin, Swift, and Java</a></li><li><a class="l" href="#pff0" data-dest-detail='[240,"XYZ",35,520,null]'>Creating an Android App</a><ul><li><a class="l" href="#pff1" data-dest-detail='[241,"XYZ",53,286,null]'>Create the Project</a></li><li><a class="l" href="#pff4" data-dest-detail='[244,"XYZ",35,174,null]'>XML Screen Definition</a></li><li><a class="l" href="#pff7" data-dest-detail='[247,"XYZ",53,422,null]'>Kotlin Main Program</a></li><li><a class="l" href="#pff9" data-dest-detail='[249,"XYZ",53,414,null]'>The C++ Wrapper</a></li><li><a class="l" href="#pffa" data-dest-detail='[250,"XYZ",35,254,null]'>Building the Project</a></li></ul></li><li><a class="l" href="#pffd" data-dest-detail='[253,"XYZ",53,536,null]'>Creating an iOS App</a><ul><li><a class="l" href="#pffe" data-dest-detail='[254,"XYZ",35,594,null]'>Create the Project</a></li><li><a class="l" href="#pffe" data-dest-detail='[254,"XYZ",35,280,null]'>Adding Elements to the Main Storyboard</a></li><li><a class="l" href="#pfff" data-dest-detail='[255,"XYZ",53,322,null]'>Adding Swift Code</a></li><li><a class="l" href="#pf102" data-dest-detail='[258,"XYZ",35,594,null]'>Adding our Assembly Language Routine</a></li><li><a class="l" href="#pf103" data-dest-detail='[259,"XYZ",53,594,null]'>Creating the Bridge</a></li><li><a class="l" href="#pf104" data-dest-detail='[260,"XYZ",35,594,null]'>Building and Running the Project</a></li></ul></li><li><a class="l" href="#pf105" data-dest-detail='[261,"XYZ",53,594,null]'>Tips for Optimizing Apps</a></li><li><a class="l" href="#pf106" data-dest-detail='[262,"XYZ",35,594,null]'>Summary</a></li><li><a class="l" href="#pf106" data-dest-detail='[262,"XYZ",35,330,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf107" data-dest-detail='[263,"XYZ",53,607,null]'>Chapter 11: Multiply, Divide, and Accumulate</a><ul><li><a class="l" href="#pf107" data-dest-detail='[263,"XYZ",53,292,null]'>Multiplication</a><ul><li><a class="l" href="#pf109" data-dest-detail='[265,"XYZ",53,180,null]'>Examples</a></li></ul></li><li><a class="l" href="#pf10d" data-dest-detail='[269,"XYZ",53,507,null]'>Division</a><ul><li><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",35,510,null]'>Example</a></li></ul></li><li><a class="l" href="#pf110" data-dest-detail='[272,"XYZ",35,536,null]'>Multiply and Accumulate</a><ul><li><a class="l" href="#pf110" data-dest-detail='[272,"XYZ",35,294,null]'>Vectors and Matrices</a></li><li><a class="l" href="#pf112" data-dest-detail='[274,"XYZ",35,462,null]'>Accumulate Instructions</a></li><li><a class="l" href="#pf113" data-dest-detail='[275,"XYZ",53,464,null]'>Example 1</a><ul><li><a class="l" href="#pf117" data-dest-detail='[279,"XYZ",53,516,null]'>Accessing Matrix Elements</a></li><li><a class="l" href="#pf118" data-dest-detail='[280,"XYZ",35,593,null]'>Multiply with Accumulate</a></li><li><a class="l" href="#pf118" data-dest-detail='[280,"XYZ",35,409,null]'>Register Usage</a></li></ul></li></ul></li><li><a class="l" href="#pf118" data-dest-detail='[280,"XYZ",35,213,null]'>Summary</a></li><li><a class="l" href="#pf119" data-dest-detail='[281,"XYZ",53,488,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf11a" data-dest-detail='[282,"XYZ",53,607,null]'>Chapter 12: Floating-Point Operations</a><ul><li><a class="l" href="#pf11a" data-dest-detail='[282,"XYZ",53,212,null]'>About Floating-Point Numbers</a><ul><li><a class="l" href="#pf11c" data-dest-detail='[284,"XYZ",53,594,null]'>About Normalization and NaNs</a></li><li><a class="l" href="#pf11c" data-dest-detail='[284,"XYZ",53,214,null]'>Recognizing Rounding Errors</a></li></ul></li><li><a class="l" href="#pf11d" data-dest-detail='[285,"XYZ",35,389,null]'>Defining Floating-Point Numbers</a></li><li><a class="l" href="#pf11e" data-dest-detail='[286,"XYZ",53,594,null]'>About FPU Registers</a></li><li><a class="l" href="#pf11f" data-dest-detail='[287,"XYZ",35,594,null]'>Defining the Function Call Protocol</a></li><li><a class="l" href="#pf11f" data-dest-detail='[287,"XYZ",35,184,null]'>Loading and Saving FPU Registers</a></li><li><a class="l" href="#pf121" data-dest-detail='[289,"XYZ",35,594,null]'>Performing Basic Arithmetic</a></li><li><a class="l" href="#pf122" data-dest-detail='[290,"XYZ",53,594,null]'>Calculating Distance Between Points</a></li><li><a class="l" href="#pf126" data-dest-detail='[294,"XYZ",53,379,null]'>Performing Floating-Point Conversions</a></li><li><a class="l" href="#pf127" data-dest-detail='[295,"XYZ",35,294,null]'>Comparing Floating-Point Numbers</a><ul><li><a class="l" href="#pf128" data-dest-detail='[296,"XYZ",53,338,null]'>Example</a></li></ul></li><li><a class="l" href="#pf12d" data-dest-detail='[301,"XYZ",35,594,null]'>Summary</a></li><li><a class="l" href="#pf12d" data-dest-detail='[301,"XYZ",35,224,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf12f" data-dest-detail='[303,"XYZ",53,607,null]'>Chapter 13: Neon Coprocessor</a><ul><li><a class="l" href="#pf12f" data-dest-detail='[303,"XYZ",53,177,null]'>About the NEON Registers</a></li><li><a class="l" href="#pf130" data-dest-detail='[304,"XYZ",35,225,null]'>Stay in Your Lane</a></li><li><a class="l" href="#pf132" data-dest-detail='[306,"XYZ",35,443,null]'>Performing Arithmetic Operations</a></li><li><a class="l" href="#pf133" data-dest-detail='[307,"XYZ",53,397,null]'>Calculating 4D Vector Distance</a></li><li><a class="l" href="#pf138" data-dest-detail='[312,"XYZ",35,261,null]'>Optimizing 3x3 Matrix Multiplication</a></li><li><a class="l" href="#pf13d" data-dest-detail='[317,"XYZ",53,313,null]'>Summary</a></li><li><a class="l" href="#pf13e" data-dest-detail='[318,"XYZ",35,594,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf13f" data-dest-detail='[319,"XYZ",53,607,null]'>Chapter 14: Optimizing Code</a><ul><li><a class="l" href="#pf13f" data-dest-detail='[319,"XYZ",53,337,null]'>Optimizing the Upper-Case Routine</a><ul><li><a class="l" href="#pf140" data-dest-detail='[320,"XYZ",35,438,null]'>Simplifying the Range Comparison</a></li><li><a class="l" href="#pf143" data-dest-detail='[323,"XYZ",53,528,null]'>Using a Conditional Instruction</a><ul><li><a class="l" href="#pf144" data-dest-detail='[324,"XYZ",35,593,null]'>Example with CSEL</a></li></ul></li><li><a class="l" href="#pf146" data-dest-detail='[326,"XYZ",35,594,null]'>Restricting the Problem Domain</a></li><li><a class="l" href="#pf149" data-dest-detail='[329,"XYZ",53,526,null]'>Using Parallelism with SIMD</a></li></ul></li><li><a class="l" href="#pf14d" data-dest-detail='[333,"XYZ",53,374,null]'>Tips for Optimizing Code</a><ul><li><a class="l" href="#pf14d" data-dest-detail='[333,"XYZ",53,180,null]'>Avoiding Branch Instructions</a></li><li><a class="l" href="#pf14e" data-dest-detail='[334,"XYZ",35,284,null]'>Avoiding Expensive Instructions</a></li><li><a class="l" href="#pf14f" data-dest-detail='[335,"XYZ",53,594,null]'>Don’t Be Afraid of Macros</a></li><li><a class="l" href="#pf14f" data-dest-detail='[335,"XYZ",53,482,null]'>Loop Unrolling</a></li><li><a class="l" href="#pf14f" data-dest-detail='[335,"XYZ",53,354,null]'>Keeping Data Small</a></li><li><a class="l" href="#pf14f" data-dest-detail='[335,"XYZ",53,210,null]'>Beware of Overheating</a></li></ul></li><li><a class="l" href="#pf150" data-dest-detail='[336,"XYZ",35,472,null]'>Summary</a></li><li><a class="l" href="#pf150" data-dest-detail='[336,"XYZ",35,210,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf152" data-dest-detail='[338,"XYZ",53,607,null]'>Chapter 15: Reading and Understanding Code</a><ul><li><a class="l" href="#pf153" data-dest-detail='[339,"XYZ",35,594,null]'>Browsing Linux and GCC Code</a><ul><li><a class="l" href="#pf154" data-dest-detail='[340,"XYZ",53,542,null]'>Copying a Page of Memory</a><ul><li><a class="l" href="#pf157" data-dest-detail='[343,"XYZ",35,340,null]'>About the Algorithm</a></li><li><a class="l" href="#pf159" data-dest-detail='[345,"XYZ",35,549,null]'>Macros and Kernel Options</a></li></ul></li></ul></li><li><a class="l" href="#pf15a" data-dest-detail='[346,"XYZ",53,504,null]'>Code Created by GCC</a><ul><li><a class="l" href="#pf15f" data-dest-detail='[351,"XYZ",35,594,null]'>Using the CBNZ and CBZ Instructions</a></li></ul></li><li><a class="l" href="#pf15f" data-dest-detail='[351,"XYZ",35,188,null]'>Reverse Engineering and Ghidra</a></li><li><a class="l" href="#pf164" data-dest-detail='[356,"XYZ",53,359,null]'>Summary</a></li><li><a class="l" href="#pf165" data-dest-detail='[357,"XYZ",35,594,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf166" data-dest-detail='[358,"XYZ",53,607,null]'>Chapter 16: Hacking Code</a><ul><li><a class="l" href="#pf166" data-dest-detail='[358,"XYZ",53,311,null]'>Buffer Overrun Hack</a></li><li><a class="l" href="#pf166" data-dest-detail='[358,"XYZ",53,183,null]'>Causes of Buffer Overrun</a></li><li><a class="l" href="#pf167" data-dest-detail='[359,"XYZ",35,328,null]'>Stealing Credit Card Numbers</a><ul><li><a class="l" href="#pf16a" data-dest-detail='[362,"XYZ",53,387,null]'>Stepping Through the Stack</a></li></ul></li><li><a class="l" href="#pf16d" data-dest-detail='[365,"XYZ",35,218,null]'>Mitigating Buffer Overrun Vulnerabilities</a><ul><li><a class="l" href="#pf16e" data-dest-detail='[366,"XYZ",53,594,null]'>Don’t Use strcpy</a></li><li><a class="l" href="#pf170" data-dest-detail='[368,"XYZ",53,594,null]'>PIE Is Good</a></li><li><a class="l" href="#pf171" data-dest-detail='[369,"XYZ",35,232,null]'>Poor Stack Canaries Are the First to Go</a></li><li><a class="l" href="#pf175" data-dest-detail='[373,"XYZ",35,594,null]'>Preventing Code Running on the Stack</a></li></ul></li><li><a class="l" href="#pf175" data-dest-detail='[373,"XYZ",35,332,null]'>Trade-offs of Buffer Overflow Mitigation Techniques</a></li><li><a class="l" href="#pf177" data-dest-detail='[375,"XYZ",35,344,null]'>Summary</a></li><li><a class="l" href="#pf178" data-dest-detail='[376,"XYZ",53,314,null]'>Exercises</a></li></ul></li><li><a class="l" href="#pf17a" data-dest-detail='[378,"XYZ",53,606,null]'>Appendix A:The ARM Instruction Set</a><ul><li><a class="l" href="#pf17a" data-dest-detail='[378,"XYZ",53,301,null]'>ARM 64-Bit Core Instructions</a></li><li><a class="l" href="#pf18d" data-dest-detail='[397,"XYZ",35,414,null]'>ARM 64-Bit NEON and FPU Instructions</a></li></ul></li><li><a class="l" href="#pf19b" data-dest-detail='[411,"XYZ",53,606,null]'>Appendix B:Binary Formats</a><ul><li><a class="l" href="#pf19b" data-dest-detail='[411,"XYZ",53,410,null]'>Integers</a></li><li><a class="l" href="#pf19c" data-dest-detail='[412,"XYZ",35,406,null]'>Floating Point</a></li><li><a class="l" href="#pf19d" data-dest-detail='[413,"XYZ",53,483,null]'>Addresses</a></li></ul></li><li><a class="l" href="#pf19e" data-dest-detail='[414,"XYZ",53,607,null]'>Appendix C:Assembler Directives</a></li><li><a class="l" href="#pf1a0" data-dest-detail='[416,"XYZ",53,607,null]'>Appendix D:ASCII Character Set</a></li><li><a class="l" href="#pf1ac" data-dest-detail='[428,"XYZ",53,569,null]'>Answers to Exercises</a><ul><li><a class="l" href="#pf1ac" data-dest-detail='[428,"XYZ",53,452,null]'>Chapter 1</a></li><li><a class="l" href="#pf1ac" data-dest-detail='[428,"XYZ",53,356,null]'>Chapter 2</a></li><li><a class="l" href="#pf1ad" data-dest-detail='[429,"XYZ",35,594,null]'>Chapter 5</a></li><li><a class="l" href="#pf1ad" data-dest-detail='[429,"XYZ",35,490,null]'>Chapter 6</a></li><li><a class="l" href="#pf1ad" data-dest-detail='[429,"XYZ",35,250,null]'>Chapter 8</a></li><li><a class="l" href="#pf1ae" data-dest-detail='[430,"XYZ",53,594,null]'>Chapter 14</a></li></ul></li><li><a class="l" href="#pf1af" data-dest-detail='[431,"XYZ",53,569,null]'>Index</a></li></ul>